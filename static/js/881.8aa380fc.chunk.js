"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[881],{877:function(e,r,t){t.d(r,{Df:function(){return o},IQ:function(){return p},Jh:function(){return f},TP:function(){return h},z1:function(){return i}});var n=t(861),a=t(757),c=t.n(a),s=t(294);s.Z.defaults.baseURL="https://api.themoviedb.org/3/";var u="ff637f30e47aba984ca1bbe10eb189d9",o=function(){var e=(0,n.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("trending/movie/day?api_key=".concat(u));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error fetching trending movies:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,n.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("search/movie?api_key=".concat(u,"&query=").concat(r));case 3:return t=e.sent,e.abrupt("return",t.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error searching movies:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),h=function(){var e=(0,n.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("movie/".concat(r,"?api_key=").concat(u));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error fetching movie details:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("movie/".concat(r,"/credits?api_key=").concat(u));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error fetching cast details:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("movie/".concat(r,"/reviews?api_key=").concat(u));case 3:return t=e.sent,e.abrupt("return",t.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error fetching reviews:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}()},881:function(e,r,t){t.r(r),t.d(r,{default:function(){return h}});var n=t(439),a=t(791),c=t(877),s=t(87),u=t(689),o={searchbar:"Movies_searchbar__IBimh",searchForm:"Movies_searchForm__J4-xw",searchFormButton:"Movies_searchFormButton__C6hnw",searchFormInput:"Movies_searchFormInput__9CWXR",searchList:"Movies_searchList__acL74"},i=t(184),h=function(){var e=(0,a.useState)([]),r=(0,n.Z)(e,2),t=r[0],h=r[1],p=(0,s.lr)(),f=(0,n.Z)(p,2),l=f[0],v=f[1],m=(0,a.useState)(l.get("query")||""),d=(0,n.Z)(m,2),_=d[0],w=d[1],g=(0,u.TH)();return(0,a.useEffect)((function(){console.log(_),_&&(0,c.z1)(_).then((function(e){h(e)}))}),[_]),(0,i.jsxs)("div",{className:o.searchbar,children:[(0,i.jsxs)("form",{className:o.searchForm,onSubmit:function(e){e.preventDefault();var r=e.currentTarget.elements,t=r.query?r.query.value:"";""!==t?(v({query:t}),w(t)):(v({}),w("")),e.currentTarget.reset()},children:[(0,i.jsx)("input",{className:o.searchFormInput,type:"text",name:"query",defaultValue:_||""}),(0,i.jsx)("button",{type:"submit",className:o.searchFormButton,children:"Search"})]}),0===t.length&&_?(0,i.jsx)("div",{children:"No results. Please try again."}):(0,i.jsx)("ul",{className:o.searchList,children:t.map((function(e){return(0,i.jsx)("li",{className:o.searchItem,children:(0,i.jsx)(s.OL,{to:"/movies/".concat(e.id),state:{from:g},children:e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=881.8aa380fc.chunk.js.map